<!DOCTYPE html>
<html lang="">
<head>
<meta charset="utf-8">
<title>RNAtreemap Example</title>

<style>
svg {
    width: 100%;
    height: 100%;
    border: 1px solid red;
}

.svg-container {
    max-width: 200px;
    margin-right: 10px;
    float: left;
}

.svg-container-grid:after {
  content: "";
  display: table;
  clear: both;
}
</style>
</head>
<body>
RNA Treemap:
<div id='rna_tm' class="svg-container-grid"></div>

RNA Treemap Grid:
<div id='rna_tmg' class="svg-container-grid"> </div>

<!-- d3 -->
<!-- build:js scripts/d3.js -->
<!-- bower:js -->
<script src='/bower_components/jquery/dist/jquery.js'></script>
<script src='/bower_components/d3/d3.js'></script>
<script src='/bower_components/d3-grid/d3-grid.js'></script>
<!-- endbower -->
<!-- endbuild -->

<!-- build:js scripts/fornac.js -->
<script type='text/javascript' src='scripts/fornac.js'></script>
<!-- endbuild -->

<!-- build:js scripts/rnaplot.js -->
<script type='text/javascript' src='scripts/rnaplot.js'></script>
<!-- endbuild -->

<!-- build:js scripts/rnatreemap.js -->
<script type='text/javascript' src='scripts/rnatreemap.js'></script>
<!-- endbuild -->

<!-- d3-grid -->
<!-- build:js scripts/d3-grid.js -->
<!-- bower:js -->
<script src='/bower_components/jquery/dist/jquery.js'></script>
<script src='/bower_components/d3/d3.js'></script>
<script src='/bower_components/d3-grid/d3-grid.js'></script>
<!-- endbower -->
<!-- endbuild -->

<script type='text/javascript'>
    var testData = [{'name': 'graph',
                'children': [{'structure': '((..((....)).(((....))).))',
                'sequence': 'CGCUUCAUAUAAUCCUAAUGACCUAU',
                'name': '1)',
                'size': 50},
                 {'structure': '((...........(((....))).))',
                'sequence': 'CGCUUCAUAUAAUCCUAAUGACCUAU',
                'name': '2)',
                'size': 40},
                 {'structure': '..........................',
                'sequence': 'CGCUUCAUAUAAUCCUAAUGACCUAU',
                'name': '3)',
                'size': 10}
                 ]
    }];
    
    var svgWidth = 400
    var svgHeight = 100

    var chart = rnatreemap.rnaTreemap()
    .rnaLayout('simple')
    .rnaEdgePadding(5)
    .namePosition('0 0')
    .startNucleotideNumber(10)
    .labelInterval(5)
    .width(svgWidth)
    .height(svgHeight)

    var svg = d3.select('#rna_tm')
    .selectAll('svg')
    .data(testData)
    .enter()
    .append('svg')
    .attr("preserveAspectRatio", "xMinYMin meet")
    .attr('viewBox', "0 0 " + svgWidth + " " + svgHeight)
    .call(chart);

    var multiData = [
    {'name': 'graph', 
                 'children': [{'structure': '((..((....)).(((....))).))',
                'sequence': 'CGCUUCAUAUAAUCCUAAUGACCUAU',
                'size': 50},
                 {'structure': '((...........(((....))).))',
                'sequence': 'CGCUUCAUAUAAUCCUAAUGACCUAU',
                'size': 40},
                 {'structure': '..........................',
                'sequence': 'CGCUUCAUAUAAUCCUAAUGACCUAU',
                'size': 10}
                 ]
    },
    {'name': 'graph', 
                 'children': [{'structure': '...........(((((.....)))))..',
                'sequence': 'CGCUUCAUAUAAUCCUAAUGACCUAU',
                'size': 50},
                 {'structure': '(((((((......)))).))).......',
                'sequence': 'CGCUUCAUAUAAUCCUAAUGACCUAU',
                'size': 50}
                 ]
    },
    {'name': 'graph', 
                 'children': [{'structure': '(((.....)))(((((.....)))))..',
                'sequence': 'CGCUUCAUAUAAUCCUAAUGACCUAU',
                'size': 30},
                 {'structure': '(((((((......)))).)))((...))',
                'sequence': 'CGCUUCAUAUAAUCCUAAUGACCUAU',
                'size': 70}
                 ]
    }]
    
    var svgWidth = 200
    var svgHeight = 200

    var chart = rnatreemap.rnaTreemap()
    .rnaLayout('simple')
    .rnaEdgePadding(5)
    .namePosition('0 0')
    .startNucleotideNumber(10)
    .labelInterval(5)
    .width(svgWidth)
    .height(svgHeight)

    var svg = d3.select('#rna_tmg')
    .selectAll('.div')
    .data(multiData)
    .enter()
    .append('div')
    .classed('svg-container', true)
    .append('svg')
    .attr("preserveAspectRatio", "xMinYMin meet")
    .attr('viewBox', "0 0 " + svgWidth + " " + svgHeight)
    .call(chart);
</script>
</body>
</html>
